{% extends "base.html" %}
{% set active_page = "home" %}
{% block content %}
<div class="ui middle aligned center container content first-page-element">
  <div class="ui project-list equal width grid">
    <table class="ui celled padded table">
      <thead>
        <tr>
          <th>Problem name</th>
          <th>Created</th>

          <th>Action</th>

          <th class="social">Brief summary</th>

        </tr>
      </thead>
      <tbody>
        {% for problem in problems%}
        <tr class={{problem.problem_id|e}} >
          <td>
            <h2 class="ui aligned sortable centered header">{{problem.title}}</h2>
          </td>
          <td>{{problem.time_created}}</td>
          <td>
            {% if problem.stage=='unpublished' %}
            <div class="ui button">Edit</div>
            <div class="ui button">Delete</div>
            <div class="ui button">Publish</div>

            {% else %}
            <div class="ui button">View</div>
            {% endif %}

          </td>
          <td>
            {% if problem.stage=='schema' or 'inspiration' %}
            <a href={{problem.schemas_page_link}} class="ui label small basic schema-list"><i class="paw icon"></i> {{problem.schema_count}}</a>
            {% endif %}
            {% if problem.stage == 'inspiration' %}
            <a href={{problem.inspirations_page_link}} class="ui label small basic inspiration-list"><i class="idea icon"></i> {{problem.inspiration_count}}</a>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
      <tfoot class="full-width">
        <tr class="padded">

          <th colspan="5">
            <div class="ui button">Publish all</div>
            <div class="ui button colspan-btn">Delete all</div>
            <div class="ui float right button colspan-btn"><a href="/new_problem">New problem</a></div>
          </th>
        </tr>
      </tfoot>
    </table>
  </div>
</div>
<script src="/static/assets/js/problems.js"></script>

{% endblock %}